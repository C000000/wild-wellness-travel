<%= simple_form_for retreat do |f| %>
<div class="col-xs-12 col-sm-4">
	<%= f.input :pictures, as: :attachinary, label: "Pictures (last uploaded will be a card cover picture)" %>
</div>
<div class="col-xs-12 col-sm-8">
	<%= f.input :name %>
	<label for="datepickerIn">From:</label>
	<input type="text" id="datepickerIn" name="retreat[start_date]"
	placeholder="yyyy-dd-mm" readonly="readonly" style="width: 150px">
	<label for="datepickerOut">To:</label>
	<input type="text" id="datepickerOut" name="retreat[end_date]"
	placeholder="yyyy-dd-mm" readonly="readonly" style="width: 150px">
	<%= f.input :available_spots %>
	<%= f.input :price %>
	<%= f.input :phone_number %>
	<%= f.input :email %>
	<%= f.input :country, priority: ["United States"] %>
	<%= f.input :state, collection: User::STATES, prompt: "Select State" %>
	<%= f.input :city %>
	<%= f.input :street_address %>
	<%= f.input :video %>
	<%= f.input :description %>
</div>
<div class="text-center">
	<%= f.button :submit, class: "btn btn-primary" %>
	<%= link_to "Back", root_path, class: "btn btn-danger" %>
</div>
<% end %>

<% content_for(:after_js) do %>
<script>
	$(function() {
		var start_date = new Date();
		var end_date = new Date();
		$("#datepickerIn").datepicker({
			dateFormat: "yy-mm-dd",
			minDate: new Date(),
			defaultDate: new Date(),
			onSelect: function(sDate) {
				start_date = new Date(sDate);
				$("#datepickerOut").val("");
				$(".total-price-result p").text("");
				$("#datepickerOut").datepicker({
					dateFormat: "yy-mm-dd",
					minDate: start_date,
					defaultDate: start_date,
					onSelect: function(eDate) {
						end_date = new Date(eDate);
					}
				});
			}
		});
	} );
</script>
<% end %>


